<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: blob:;"
    />
    <title>Todo Wallpaper</title>
    <!-- Shorter Title -->
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="app-container">
      <!-- Controls Column -->
      <div class="controls-column">
        <h1>Todo Wallpaper</h1>

        <!-- Todo Input Area -->
        <div class="todo-input-area">
          <input
            type="text"
            id="new-todo-input"
            placeholder="Add a new task (Ctrl+N)"
          />
          <button
            id="add-todo-btn"
            class="button button-primary"
            title="Add Todo"
          >
            +
            <!-- Simple Add Symbol -->
          </button>
        </div>

        <!-- Todo List -->
        <div class="todo-list-container">
          <ul id="todo-list">
            <!-- Todo items will be rendered here by JS -->
          </ul>
        </div>

        <h2>Wallpaper Settings</h2>

        <!-- Text Settings Section -->
        <div class="setting-section">
          <h3>Text & Layout</h3>
          <div class="input-group">
            <label for="wallpaper-title-input">Title:</label>
            <input
              type="text"
              id="wallpaper-title-input"
              value="My To-Do List"
            />
          </div>
          <div class="input-group">
            <label for="text-color">Color:</label>
            <input type="color" id="text-color" value="#FFFFFF" />
          </div>
          <div class="input-group">
            <label for="font-size">Font Size:</label>
            <input type="number" id="font-size" value="48" min="10" max="200" />
          </div>
          <div class="input-group">
            <label for="text-position">Position:</label>
            <select id="text-position">
              <option value="top-left">Top Left</option>
              <option value="top-center">Top Center</option>
              <option value="center-left">Center Left</option>
              <option value="center">Center</option>
              <option value="bottom-left">Bottom Left</option>
              <option value="bottom-center">Bottom Center</option>
              <option value="bottom-right">Bottom Right</option>
            </select>
          </div>
          <div class="input-group">
            <label for="text-align-select">Align:</label>
            <select id="text-align-select">
              <option value="left">Left</option>
              <option value="center">Center</option>
              <option value="right">Right</option>
            </select>
          </div>
          <div class="input-group">
            <label for="offset-x">Offset X:</label>
            <input type="number" id="offset-x" value="0" step="5" />
          </div>
          <div class="input-group">
            <label for="offset-y">Offset Y:</label>
            <input type="number" id="offset-y" value="0" step="5" />
          </div>
        </div>

        <!-- Background Settings Section -->
        <div class="setting-section">
          <h3>Background</h3>
          <div class="input-group">
            <label>Type:</label>
            <div class="radio-group">
              <label>
                <input
                  type="radio"
                  name="bg-type"
                  value="color"
                  id="bg-type-color"
                  checked
                />
                Color
              </label>
              <label>
                <input
                  type="radio"
                  name="bg-type"
                  value="image"
                  id="bg-type-image"
                />
                Image
              </label>
            </div>
          </div>

          <!-- Background Color Controls -->
          <div id="bg-color-controls" class="input-group settings-group">
            <!-- Removed extra settings-group -->
            <label for="bg-color">Color:</label>
            <input type="color" id="bg-color" value="#333333" />
          </div>

          <!-- Background Image Controls -->
          <div id="bg-image-controls" class="input-group settings-group hidden">
            <!-- Add hidden class -->
            <label>Image:</label>
            <span id="image-filename" class="filename-display"
              >No file chosen</span
            >
            <div class="button-group">
              <button id="choose-image-btn" class="button button-secondary">
                Choose...
              </button>
              <button
                id="clear-image-btn"
                class="button button-danger button-icon"
                title="Clear selected image"
              >
                Ã—
              </button>
            </div>
            <input
              type="file"
              id="image-file-input"
              accept="image/png, image/jpeg, image/webp"
              style="display: none"
            />
          </div>
        </div>
      </div>

      <!-- Preview Column -->
      <div class="preview-column">
        <h2>Preview</h2>
        <div class="preview-area-container">
          <img id="preview-area" alt="Wallpaper Preview" src="" />
          <!-- Canvas is hidden but used for generation -->
          <canvas
            id="image-canvas"
            width="1920"
            height="1080"
            class="hidden"
          ></canvas>
        </div>
        <button id="apply-wallpaper-btn" class="button button-success">
          Apply as Wallpaper
        </button>
      </div>
    </div>
    <script src="./renderer.js"></script>
  </body>
</html>
